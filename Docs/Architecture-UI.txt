Hippocrates 360 – UI Architecture (TXT версия)

Този файл описва визуалната архитектура на Hippocrates 360 на чист текст, подходящ за машинно четене от AI.

===============================================================
 ASCII схема на UI зоните
===============================================================

 ┌──────────────────────────────────────────────────────────────┐
 │   ЧЕРВЕНА ЗОНА – FMX Header / Command Bar / Menu             │
 └──────────────────────────────────────────────────────────────┘

 ┌────────────────────────── Зеленa Зона – Role Bar ────────────┐
 │  [MainBtn] [MainBtn] [MainBtn]                                │
 │             [Role Button]                                     │
 │         [SubBtn] [SubBtn] [SubBtn]                            │
 └──────────────────────────────────────────────────────────────┘

 ┌────────────────────── Черна Зона – Navigation ───────────────┐
 │ [AspectTree (.lnk)]  |  [Classic VST Tree]                    │
 │ [Actions Column]     |  [Loading Spinners]                    │
 └──────────────────────────────────────────────────────────────┘

 ┌─────────────────── Синя Зона – Work Area ────────────────────┐
 │   Dynamic Content: grids, editors, FMX panels, VCL forms      │
 └──────────────────────────────────────────────────────────────┘

 ┌──────────────── Кафява Зона – Context Toolbar ───────────────┐
 │ [Save Button (dynamic)]  [Other Context Actions]              │
 └──────────────────────────────────────────────────────────────┘

===============================================================
 1. Червена зона – FMX Header / Command Bar
===============================================================

FMX форма, която държи глобалното меню:
Дейности, Списъци, Номенклатури, Финанси, Справки, Сервиз,
Инструменти, Импорт/Експорт, GDPR, Входящи и други.

Основна роля:
- Осигурява най-горното ниво на навигация
- Управлява табове/страници за основните модули

===============================================================
 2. Зелена зона – FMX Role Bar
===============================================================

Динамично конфигурируема лента за бутони, определени от ролята:

- Ролеви бутон (централен)
- Главни бутони (над ролевия)
- ПодБутони (под ролевия)

Потребителят може:
- да добавя главни бутони
- да добавя подБутон
- да задава действия чрез drag&drop или избор от списък
- да подрежда бутони
- да създава роли

При натискане на ролевия бутон → показва се ролевия редактор в навигационната зона.

===============================================================
 3. Черна зона – Navigation Panel
===============================================================

Съдържа две различни дървета:

1. TVirtualStringTreeAspect (аспектско):
   - данни директно от .lnk файл
   - memory-mapped, без алокации
   - много бързо
   - има действия в последна колона
   - има анимация за дълги операции

2. TVirtualStringTreeHipp (класическо):
   - стандартно VST, работи в RAM
   - подходящо за номенклатури, списъци, настройки

Общите екстри:
- до 4 контекстни бутона в последната колона
- индикатор за процес
- селекция → променя съдържанието на работната зона

===============================================================
 4. Синя зона – Dynamic Work Area
===============================================================

Това е основното работно поле. Съдържа:

- екрани за пациент
- екрани за преглед
- диагнози
- номенклатури
- FMX панели
- VCL панели
- динамични форми
- списъци
- редактори
- таблици
- аналитични екрани

Съдържанието е напълно динамично.

===============================================================
 5. Кафява зона – Context Toolbar
===============================================================

Малък toolbar, съдържащ:

- Save бутон (реагира на RecordBuffer)
- други контекстни бутони

Функции:
- показва статус: няма промени / има промени / записано
- стартира запис към ADB/LNK
- работи заедно с командните файлове (TEMP/CMD)

===============================================================
 Заключение
===============================================================

UI архитектурата на Hippocrates 360 комбинира:

- FMX динамика (анимации, модерна визия)
- VCL скорост (дървета, таблици)
- ролево-базирана персонализация
- динамично зареждане на съдържание
- бърза навигация с аспектски .lnk дървета
- интелигентно управление на промени (RecordBuffer)

Това позволява бърза, мощна и разширяема система.
